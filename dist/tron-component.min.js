/*! @nelsondev/component v1.0.6 - Ultra-lightweight web component library */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TronComponent={})}(this,function(e){"use strict";function t(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function n(e,t){if(null==e)return e;if(t===Boolean)return""===e||"true"===e||!0===e;if(t===Number){const t=+e;return isNaN(t)?0:t}if(t===Array||t===Object){if("string"==typeof e)try{return JSON.parse(e)}catch{return t===Array?[]:{}}return e}return String(e)}function r(e){return{element:e,defineProps:(r=[])=>(e._pendingVariantDefault&&!r.some(e=>"variant"===("string"==typeof e?e:e.name))&&(r=[...r,{name:"variant",type:String,default:e._pendingVariantDefault}]),function(e,r){const o={},s={};return e._propsCache=new Map,r.forEach(e=>{const t="string"==typeof e?{name:e,type:String,default:""}:{type:String,default:"",...e};o[t.name]=t}),e.constructor.properties=o,e.constructor.observedAttributes=Object.keys(o).map(t),Object.keys(o).forEach(r=>{const i=o[r],a=t(r);Object.defineProperty(s,r,{get(){if(e._propsCache.has(r))return e._propsCache.get(r);const t=e.getAttribute(a),o=null!==t?n(t,i.type):i.default;return i.required&&null==o&&console.warn(`Required prop '${r}' is missing on ${e.tagName}`),i.validator&&!i.validator(o)&&console.warn(`Invalid prop '${r}' value:`,o),e._propsCache.set(r,o),o},set(t){if(i.validator&&!i.validator(t))return void console.warn(`Invalid prop '${r}' value:`,t);const o=n(t,i.type);e.setAttribute(a,o)}})}),e._props=s,s}(e,r)),defineMixes(t){const n={};t.forEach(e=>{n[e.name]=e.classes});const r=t.find(e=>"default"===e.name)?.name||t[0]?.name||"default";e._variantPropCreated||(e._pendingVariantDefault=r,e._variantPropCreated=!0);return{toString(){const t=e._props&&e._props.variant||r;return n[t]||n[r]||""},get:e=>n[e]||""}},defineEvent(t){const n="_evt"+e._eventCounter++,r=`${e._instanceId}_${n}`;e[n]=(...e)=>t(...e),e._eventHandlers.add({name:n,globalName:r}),window[r]=e;const o=(...t)=>e[n](...t);return o.toString=()=>{const e=t.toString().match(/^\s*(?:async\s+)?\(?([^)]*)\)?\s*=>/),o=e?e[1].trim():"";return o?o.includes(",")?`window.${r}.${n}(event)`:`(function(e){e.preventDefault();window.${r}.${n}(e)}).call(this,event)`:`window.${r}.${n}()`},o},exportEvent(t,n){const r=`${e._instanceId}_${t}`;return e[t]=(...e)=>n(...e),e._eventHandlers.add({name:t,globalName:r}),window[r]=e,e[t]},defineSlots(t=["default"]){const n={};return t.forEach(t=>{Object.defineProperty(n,t,{get:()=>(e._slotsProcessed||e._processSlots(),"default"===t?e._defaultSlotContent||"":e._namedSlots[t]||"")})}),n},defineTemplate(t){const n="function"==typeof t?t():String(t);e.innerHTML=n},defineStyle:()=>e.className||"",onMounted(t){e.addEventListener("mounted",t,{once:!0})},onUnmounted(t){e.addEventListener("unmounted",t)}}}const o=new Map;e.defineComponent=function(e,t){if(o.has(e))return console.warn(`Component ${e} already registered`),o.get(e);class n extends HTMLElement{static properties={};constructor(){super(),this._eventHandlers=new Set,this._eventListeners=new Set,this._eventCounter=0,this._originalContent=null,this._namedSlots={},this._defaultSlotContent="",this._slotsProcessed=!1,this._definition=t,this._instanceId=`cc_${Date.now()}_${Math.random().toString(36).substring(2,9)}`}connectedCallback(){this._captureOriginalContent(),Promise.resolve().then(()=>{const e=r(this);t.call(e,e),this.dispatchEvent(new CustomEvent("mounted"))})}disconnectedCallback(){this._eventListeners.forEach(({element:e,type:t,handler:n})=>{e.removeEventListener(t,n)}),this._eventListeners.clear(),this._eventHandlers.forEach(({name:e,globalName:t})=>{delete this[e],delete window[t]}),this._eventHandlers.clear(),this.dispatchEvent(new CustomEvent("unmounted"))}attributeChangedCallback(e,t,n){t!==n&&this._propsCache&&this._propsCache.delete(this._kebabToCamel(e))}render(){this._propsCache&&this._propsCache.clear(),this._slotsProcessed=!1,this._captureOriginalContent();const e=r(this);this._definition.call(e,e),this.dispatchEvent(new CustomEvent("rerendered",{detail:{timestamp:Date.now()}}))}_kebabToCamel(e){return e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase())}_captureOriginalContent(){this._originalContent=this.innerHTML;const e=new Map;this.querySelectorAll("*").forEach(t=>{t.tagName.toLowerCase().includes("-")&&!t._originalContentCaptured&&(e.set(t,t.innerHTML),t._preservedSlotContent=t.innerHTML,t._originalContentCaptured=!0)}),this._elementContentMap=e}_processSlots(){this._slotsProcessed||(this._extractSlots(),this._slotsProcessed=!0)}_extractSlots(){if(!this._originalContent)return this._namedSlots={},void(this._defaultSlotContent="");const e=document.createElement("div");if(e.innerHTML=this._originalContent,this._elementContentMap){const t=e.querySelectorAll("*"),n=Array.from(this.querySelectorAll("*"));t.forEach((e,t)=>{if(e.tagName.toLowerCase().includes("-")){const r=n[t];r&&this._elementContentMap.has(r)&&(e.innerHTML=this._elementContentMap.get(r))}})}const t={};Array.from(e.children).filter(e=>"TEMPLATE"===e.tagName&&e.hasAttribute("slot")).forEach(e=>{const n=e.getAttribute("slot");t[n]=e.innerHTML,e.remove()});Array.from(e.children).filter(e=>e.hasAttribute("slot")&&"TEMPLATE"!==e.tagName).forEach(e=>{const n=e.getAttribute("slot");t[n]||(t[n]=e.outerHTML),e.remove()}),this._namedSlots=t,this._defaultSlotContent=e.innerHTML.trim()}}return customElements.define(e,n),o.set(e,n),n}});
//# sourceMappingURL=tron-component.min.js.map
