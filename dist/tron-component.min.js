/*! @nelsondev/component v1.0.6 - Ultra-lightweight web component library */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TronComponent={})}(this,function(e){"use strict";const t=e=>e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),n=(e,t)=>{if(null==e)return e;if(t===Boolean)return""===e||"true"===e||!0===e;if(t===Number){const t=+e;return isNaN(t)?0:t}if(t===Array||t===Object){if("string"==typeof e)try{return JSON.parse(e)}catch{return t===Array?[]:{}}return e}return String(e)};function o(e){return{element:e,defineProps(o=[]){const r={},s={};return e._propsCache=new Map,o.forEach(e=>{const t="string"==typeof e?{name:e,type:String,default:""}:{type:String,default:"",...e};r[t.name]=t}),e.constructor.properties=r,e.constructor.observedAttributes=Object.keys(r).map(t),Object.keys(r).forEach(o=>{const i=r[o],a=t(o);Object.defineProperty(s,o,{get(){if(e._propsCache.has(o))return e._propsCache.get(o);const t=e.getAttribute(a),r=null!==t?n(t,i.type):i.default;return i.required&&null==r&&console.warn(`Required prop '${o}' is missing on ${e.tagName}`),i.validator&&!i.validator(r)&&console.warn(`Invalid prop '${o}' value:`,r),e._propsCache.set(o,r),r},set(t){if(i.validator&&!i.validator(t))return void console.warn(`Invalid prop '${o}' value:`,t);const r=n(t,i.type);e.setAttribute(a,r)}})}),e._props=s,s},defineEvent(t){const n="_evt"+e._eventCounter++,o=`${e._instanceId}_${n}`;e[n]=(...e)=>t(...e),e._eventHandlers.add({name:n,globalName:o}),window[o]=e;const r=(...t)=>e[n](...t);return r.toString=()=>{const e=t.toString().match(/^\s*(?:async\s+)?\(?([^)]*)\)?\s*=>/),r=e?e[1].trim():"";return r?r.includes(",")?`window.${o}.${n}(event)`:`(function(e){e.preventDefault();window.${o}.${n}(e)}).call(this,event)`:`window.${o}.${n}()`},r},exportEvent(t,n){const o=`${e._instanceId}_${t}`;return e[t]=(...e)=>n(...e),e._eventHandlers.add({name:t,globalName:o}),window[o]=e,e[t]},defineSlots(t=["default"]){const n={};return t.forEach(t=>{Object.defineProperty(n,t,{get:()=>(e._slotsProcessed||e._processSlots(),"default"===t?e._defaultSlotContent||"":e._namedSlots[t]||"")})}),n},defineTemplate(t){const n="function"==typeof t?t():String(t);e.innerHTML=n},defineStyle:()=>e.className||"",onMounted(t){e.addEventListener("mounted",t,{once:!0})},onUnmounted(t){e.addEventListener("unmounted",t)}}}const r=new Map;function s(e,t){if(r.has(e))return console.warn(`Component ${e} already registered`),r.get(e);class n extends HTMLElement{static properties={};constructor(){super(),this._eventHandlers=new Set,this._eventListeners=new Set,this._eventCounter=0,this._originalContent=null,this._namedSlots={},this._defaultSlotContent="",this._slotsProcessed=!1,this._definition=t,this._instanceId=`cc_${Date.now()}_${Math.random().toString(36).substring(2,9)}`}connectedCallback(){this._captureOriginalContent(),Promise.resolve().then(()=>{const e=o(this);t.call(e,e),this.dispatchEvent(new CustomEvent("mounted"))})}disconnectedCallback(){this._eventListeners.forEach(({element:e,type:t,handler:n})=>{e.removeEventListener(t,n)}),this._eventListeners.clear(),this._eventHandlers.forEach(({name:e,globalName:t})=>{delete this[e],delete window[t]}),this._eventHandlers.clear(),this.dispatchEvent(new CustomEvent("unmounted"))}attributeChangedCallback(e,t,n){t!==n&&this._propsCache&&this._propsCache.delete(e.replace(/-([a-z])/g,(e,t)=>t.toUpperCase()))}render(){this._propsCache&&this._propsCache.clear(),this._slotsProcessed=!1,this._captureOriginalContent();const e=o(this);this._definition.call(e,e),this.dispatchEvent(new CustomEvent("rerendered",{detail:{timestamp:Date.now()}}))}_captureOriginalContent(){this._originalContent=this.innerHTML;const e=new Map;this.querySelectorAll("*").forEach(t=>{t.tagName.toLowerCase().includes("-")&&!t._originalContentCaptured&&(e.set(t,t.innerHTML),t._preservedSlotContent=t.innerHTML,t._originalContentCaptured=!0)}),this._elementContentMap=e}_processSlots(){this._slotsProcessed||(this._extractSlots(),this._slotsProcessed=!0)}_extractSlots(){if(!this._originalContent)return this._namedSlots={},void(this._defaultSlotContent="");const e=document.createElement("div");if(e.innerHTML=this._originalContent,this._elementContentMap){const t=e.querySelectorAll("*"),n=Array.from(this.querySelectorAll("*"));t.forEach((e,t)=>{if(e.tagName.toLowerCase().includes("-")){const o=n[t];o&&this._elementContentMap.has(o)&&(e.innerHTML=this._elementContentMap.get(o))}})}const t={};Array.from(e.children).filter(e=>"TEMPLATE"===e.tagName&&e.hasAttribute("slot")).forEach(e=>{const n=e.getAttribute("slot");t[n]=e.innerHTML,e.remove()});Array.from(e.children).filter(e=>e.hasAttribute("slot")&&"TEMPLATE"!==e.tagName).forEach(e=>{const n=e.getAttribute("slot");t[n]||(t[n]=e.outerHTML),e.remove()}),this._namedSlots=t,this._defaultSlotContent=e.innerHTML.trim()}}return customElements.define(e,n),r.set(e,n),n}"undefined"!=typeof window&&(window.defineComponent=s,window.TronComponent={defineComponent:s}),e.defineComponent=s});
//# sourceMappingURL=tron-component.min.js.map
