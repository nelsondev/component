{"version":3,"file":"tron-component.js","sources":["../src/utils/utils.js","../src/core/context.js","../src/core/component.js","../src/index.js"],"sourcesContent":["export const camelToKebab = str => str.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\r\n\r\nexport const kebabToCamel = str => str.replace(/-([a-z])/g, (_, letter) => letter.toUpperCase())\r\n\r\nexport const convertValue = (value, type) => {\r\n    if (value == null) return value;\r\n\r\n    if (type === Boolean) {\r\n        return value === '' || value === 'true' || value === true;\r\n    }\r\n    if (type === Number) {\r\n        const number = +value;\r\n        return isNaN(number) ? 0 : number;\r\n    }\r\n    if (type === Array || type === Object) {\r\n        if (typeof value === 'string') {\r\n            try {\r\n                return JSON.parse(value);\r\n            } catch {\r\n                return type === Array ? [] : {};\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n    return String(value);\r\n}","import { camelToKebab, convertValue } from \"../utils/utils\";\r\n\r\nexport function createContext(component) {\r\n    return {\r\n        /**\r\n         * Reference to the component element\r\n         */\r\n        element: component,\r\n\r\n        /**\r\n         * Define component properties with cleaner API\r\n         */\r\n        defineProps(propList = []) {\r\n            const properties = {};\r\n            const proxy = {};\r\n\r\n            component._propsCache = new Map();\r\n\r\n            propList.forEach(prop => {\r\n                const config = typeof prop === 'string'\r\n                    ? { name: prop, type: String, default: '' }\r\n                    : { type: String, default: '', ...prop };\r\n\r\n                properties[config.name] = config;\r\n            });\r\n\r\n            component.constructor.properties = properties;\r\n            component.constructor.observedAttributes = Object.keys(properties).map(camelToKebab);\r\n\r\n            Object.keys(properties).forEach(name => {\r\n                const config = properties[name];\r\n                const kebabName = camelToKebab(name);\r\n\r\n                Object.defineProperty(proxy, name, {\r\n                    get() {\r\n                        if (component._propsCache.has(name)) {\r\n                            return component._propsCache.get(name);\r\n                        }\r\n\r\n                        const attributeValue = component.getAttribute(kebabName);\r\n                        const value = attributeValue !== null\r\n                            ? convertValue(attributeValue, config.type)\r\n                            : config.default;\r\n\r\n                        if (config.required && value == null) {\r\n                            console.warn(`Required prop '${name}' is missing on ${component.tagName}`);\r\n                        }\r\n\r\n                        if (config.validator && !config.validator(value)) {\r\n                            console.warn(`Invalid prop '${name}' value:`, value);\r\n                        }\r\n\r\n                        component._propsCache.set(name, value);\r\n                        return value;\r\n                    },\r\n\r\n                    set(value) {\r\n                        if (config.validator && !config.validator(value)) {\r\n                            console.warn(`Invalid prop '${name}' value:`, value);\r\n                            return;\r\n                        }\r\n\r\n                        const convertedValue = convertValue(value, config.type);\r\n                        component.setAttribute(kebabName, convertedValue);\r\n                    }\r\n                });\r\n            });\r\n\r\n            component._props = proxy;\r\n            return proxy;\r\n        },\r\n\r\n        /**\r\n         * Create event handlers - returns a function that can be used in templates\r\n         */\r\n        defineEvent(handler) {\r\n            const name = `_evt${component._eventCounter++}`;\r\n            const globalName = `${component._instanceId}_${name}`;\r\n\r\n            component[name] = (...args) => handler(...args);\r\n            component._eventHandlers.add({ name, globalName });\r\n\r\n            // Store component reference globally using the unique global name\r\n            window[globalName] = component;\r\n\r\n            const eventWrapper = (...args) => component[name](...args);\r\n\r\n            eventWrapper.toString = () => {\r\n                const handlerString = handler.toString();\r\n                const paramMatch = handlerString.match(/^\\s*(?:async\\s+)?\\(?([^)]*)\\)?\\s*=>/);\r\n                const params = paramMatch ? paramMatch[1].trim() : '';\r\n\r\n                if (!params) {\r\n                    return `window.${globalName}.${name}()`;\r\n                }\r\n                if (params.includes(',')) {\r\n                    return `window.${globalName}.${name}(event)`;\r\n                }\r\n                return `(function(e){e.preventDefault();window.${globalName}.${name}(e)}).call(this,event)`;\r\n            };\r\n\r\n            return eventWrapper;\r\n        },\r\n\r\n        /**\r\n         * Export an event handler to make it available externally on the component\r\n         */\r\n        exportEvent(methodName, handler) {\r\n            const globalName = `${component._instanceId}_${methodName}`;\r\n\r\n            // Create the method on the component\r\n            component[methodName] = (...args) => {\r\n                if (typeof handler === 'function') {\r\n                    return handler(...args);\r\n                } else {\r\n                    // If handler is already a defineEvent result, call it\r\n                    return handler(...args);\r\n                }\r\n            };\r\n\r\n            // Track for cleanup\r\n            component._eventHandlers.add({ name: methodName, globalName });\r\n\r\n            // Store component reference globally\r\n            window[globalName] = component;\r\n\r\n            return component[methodName];\r\n        },\r\n\r\n        /**\r\n         * Define slots with cleaner API\r\n         */\r\n        defineSlots(slotNames = ['default']) {\r\n            const slots = {};\r\n\r\n            slotNames.forEach(slotName => {\r\n                Object.defineProperty(slots, slotName, {\r\n                    get() {\r\n                        // Process slots lazily when first accessed\r\n                        if (!component._slotsProcessed) {\r\n                            component._processSlots();\r\n                        }\r\n\r\n                        if (slotName === 'default') {\r\n                            return component._defaultSlotContent || '';\r\n                        }\r\n                        return component._namedSlots[slotName] || '';\r\n                    }\r\n                });\r\n            });\r\n\r\n            return slots;\r\n        },\r\n\r\n        /**\r\n         * Define component template with cleaner API\r\n         */\r\n        defineTemplate(template) {\r\n            const html = typeof template === 'function' ? template() : String(template);\r\n            component.innerHTML = html;\r\n        },\r\n\r\n        /**\r\n         * Forward classes from the component to its first child or specified selector\r\n         */\r\n        defineStyle() {\r\n            return component.className || '';\r\n        },\r\n\r\n        /**\r\n         * Lifecycle hooks\r\n         */\r\n        onMounted(callback) {\r\n            component.addEventListener('mounted', callback, { once: true });\r\n        },\r\n\r\n        onUnmounted(callback) {\r\n            component.addEventListener('unmounted', callback);\r\n        }\r\n    };\r\n}","import { createContext } from './context.js';\r\nimport { kebabToCamel } from '../utils/utils.js';\r\n\r\nconst registry = new Map();\r\nconst pending = new Set();\r\nconst callbacks = [];\r\n\r\nexport function ready(callback) {\r\n    callbacks.push(callback)\r\n}\r\n\r\nexport function defineComponent(tagName, definition) {\r\n    if (registry.has(tagName)) {\r\n        console.warn(`Component ${tagName} already registered`);\r\n        return registry.get(tagName);\r\n    }\r\n\r\n    class ColeComponent extends HTMLElement {\r\n        static properties = {};\r\n\r\n        constructor() {\r\n            super();\r\n\r\n            // Initialize component state\r\n            this._eventHandlers = new Set();\r\n            this._eventListeners = new Set();\r\n            this._eventCounter = 0;\r\n            this._originalContent = null;\r\n            this._namedSlots = {};\r\n            this._defaultSlotContent = '';\r\n            this._slotsProcessed = false;\r\n\r\n            this._definition = definition;\r\n\r\n            // Create unique instance ID\r\n            this._instanceId = `cc_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\r\n\r\n            pending.add(this)\r\n        }\r\n\r\n        connectedCallback() {\r\n            // Capture content immediately when element is connected, before any nested components are upgraded\r\n            this._captureOriginalContent();\r\n            \r\n            // Process the component definition in the next tick to allow content capture\r\n            Promise.resolve().then(() => {\r\n                const context = createContext(this);\r\n                definition.call(context, context);\r\n                this.dispatchEvent(new CustomEvent('mounted'));\r\n                pending.delete(this)\r\n                if (pending.size === 0) {\r\n                    callbacks.forEach(x => x())\r\n                    callbacks = []\r\n                }\r\n            });\r\n        }\r\n\r\n        disconnectedCallback() {\r\n            // Clean up event listeners\r\n            this._eventListeners.forEach(({ element, type, handler }) => {\r\n                element.removeEventListener(type, handler);\r\n            });\r\n            this._eventListeners.clear();\r\n\r\n            // Clean up event handlers\r\n            this._eventHandlers.forEach(({ name, globalName }) => {\r\n                delete this[name];\r\n                delete window[globalName];\r\n            });\r\n            this._eventHandlers.clear();\r\n\r\n            this.dispatchEvent(new CustomEvent('unmounted'));\r\n        }\r\n\r\n        attributeChangedCallback(name, oldValue, newValue) {\r\n            if (oldValue !== newValue && this._propsCache) {\r\n                this._propsCache.delete(kebabToCamel(name));\r\n            }\r\n        }\r\n\r\n        render() {\r\n            // Clear all caches\r\n            if (this._propsCache) {\r\n                this._propsCache.clear();\r\n            }\r\n            \r\n            // Reset slot processing to force fresh slot extraction\r\n            this._slotsProcessed = false;\r\n            \r\n            // Re-capture original content (in case slot content changed)\r\n            this._captureOriginalContent();\r\n            \r\n            // Re-run the component definition with fresh context\r\n            const context = createContext(this);\r\n            this._definition.call(context, context);\r\n            \r\n            // Dispatch event for any cleanup/update logic\r\n            this.dispatchEvent(new CustomEvent('rerendered', { \r\n                detail: { timestamp: Date.now() }\r\n            }));\r\n        }\r\n\r\n        _captureOriginalContent() {\r\n            // Capture the innerHTML immediately - this should contain the original, unprocesed content\r\n            this._originalContent = this.innerHTML;\r\n            \r\n            // Create a more robust mapping system using element paths instead of indices\r\n            const elementContentMap = new Map();\r\n            \r\n            // Capture content of nested custom elements with their unique identifiers\r\n            const nestedCustomElements = this.querySelectorAll('*');\r\n            nestedCustomElements.forEach(element => {\r\n                const tagName = element.tagName.toLowerCase();\r\n                if (tagName.includes('-') && !element._originalContentCaptured) {\r\n                    // Create a unique key based on tag name, position, and content signature\r\n                    const elementKey = this._createElementKey(element);\r\n                    elementContentMap.set(elementKey, element.innerHTML);\r\n                    element._preservedSlotContent = element.innerHTML;\r\n                    element._originalContentCaptured = true;\r\n                    element._elementKey = elementKey; // Store key on element for later matching\r\n                }\r\n            });\r\n            \r\n            // Store the map on this component instance for later use\r\n            this._elementContentMap = elementContentMap;\r\n        }\r\n\r\n        _createElementKey(element) {\r\n            const tagName = element.tagName.toLowerCase();\r\n            const parent = element.parentElement;\r\n            const siblings = Array.from(parent.children).filter(child => \r\n                child.tagName.toLowerCase() === tagName\r\n            );\r\n            const indexInSiblings = siblings.indexOf(element);\r\n            const contentSignature = element.innerHTML.slice(0, 50); // First 50 chars as signature\r\n            \r\n            return `${tagName}:${indexInSiblings}:${contentSignature.length}:${contentSignature.replace(/\\s+/g, '')}`;\r\n        }\r\n\r\n        _processSlots() {\r\n            // Only process slots once\r\n            if (this._slotsProcessed) return;\r\n            \r\n            this._extractSlots();\r\n            this._slotsProcessed = true;\r\n        }\r\n\r\n        _extractSlots() {\r\n            if (!this._originalContent) {\r\n                this._namedSlots = {};\r\n                this._defaultSlotContent = '';\r\n                return;\r\n            }\r\n\r\n            // Create a temporary container to safely parse HTML\r\n            const tempDiv = document.createElement('div');\r\n            tempDiv.innerHTML = this._originalContent;\r\n\r\n            // Restore preserved content for nested custom elements using robust key matching\r\n            if (this._elementContentMap) {\r\n                const nestedElements = tempDiv.querySelectorAll('*');\r\n                \r\n                nestedElements.forEach(element => {\r\n                    const tagName = element.tagName.toLowerCase();\r\n                    if (tagName.includes('-')) {\r\n                        // Create the same key for this temp element\r\n                        const elementKey = this._createTempElementKey(element, tempDiv);\r\n                        \r\n                        if (this._elementContentMap.has(elementKey)) {\r\n                            element.innerHTML = this._elementContentMap.get(elementKey);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            const namedSlots = {};\r\n            \r\n            // Get direct child template elements with slot attribute\r\n            const directTemplateElements = Array.from(tempDiv.children).filter(child => \r\n                child.tagName === 'TEMPLATE' && child.hasAttribute('slot')\r\n            );\r\n            \r\n            directTemplateElements.forEach(template => {\r\n                const slotName = template.getAttribute('slot');\r\n                namedSlots[slotName] = template.innerHTML;\r\n                template.remove();\r\n            });\r\n\r\n            this._namedSlots = namedSlots;\r\n            \r\n            // Everything remaining is default slot content\r\n            this._defaultSlotContent = tempDiv.innerHTML.trim();\r\n        }\r\n\r\n        _createTempElementKey(element, tempContainer) {\r\n            const tagName = element.tagName.toLowerCase();\r\n            const parent = element.parentElement || tempContainer;\r\n            const siblings = Array.from(parent.children).filter(child => \r\n                child.tagName.toLowerCase() === tagName\r\n            );\r\n            const indexInSiblings = siblings.indexOf(element);\r\n            const contentSignature = element.innerHTML.slice(0, 50);\r\n            \r\n            return `${tagName}:${indexInSiblings}:${contentSignature.length}:${contentSignature.replace(/\\s+/g, '')}`;\r\n        }\r\n    }\r\n\r\n    customElements.define(tagName, ColeComponent);\r\n    registry.set(tagName, ColeComponent);\r\n    return ColeComponent;\r\n}","/**\r\n * Tron Component\r\n * @author Nelson M\r\n */\r\n\r\nimport { defineComponent, ready } from './core/component.js'\r\n\r\nconst html = String.raw;\r\nconst template = html;\r\n\r\n// Expose globally for script tag usage\r\nif (typeof window !== 'undefined') {\r\n    window.defineComponent = defineComponent;\r\n    window.TronComponent = { defineComponent };\r\n    window.html = html;\r\n    window.template = template;\r\n    window.isReady = ready;\r\n}\r\n\r\nexport { defineComponent, html, template, ready }"],"names":[],"mappings":"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"}